!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactScene=t(require("react")):e.ReactScene=t(e.React)}(this,function(e){return function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var s=n(1);s.createScene=n(3),s.withScene=n(5),e.exports=s},function(e,t,n){"use strict";var s=n(2),o=s.createClass({displayName:"ReactScene",propTypes:{width:s.PropTypes.number,height:s.PropTypes.number,loadOnMount:s.PropTypes.bool,buildOnLoad:s.PropTypes.bool,playOnBuild:s.PropTypes.bool,destroyOnUnmount:s.PropTypes.bool,load:s.PropTypes.func,build:s.PropTypes.func,resize:s.PropTypes.func,mute:s.PropTypes.func,unmute:s.PropTypes.func,play:s.PropTypes.func,pause:s.PropTypes.func,end:s.PropTypes.func,destroy:s.PropTypes.func,onRemote:s.PropTypes.func,sceneWillLoad:s.PropTypes.func,sceneDidLoad:s.PropTypes.func,sceneWillBuild:s.PropTypes.func,sceneDidBuild:s.PropTypes.func,sceneWillResize:s.PropTypes.func,sceneDidResize:s.PropTypes.func,sceneWillMute:s.PropTypes.func,sceneDidMute:s.PropTypes.func,sceneWillUnmute:s.PropTypes.func,sceneDidUnmute:s.PropTypes.func,sceneWillPlay:s.PropTypes.func,sceneDidPlay:s.PropTypes.func,sceneWillPause:s.PropTypes.func,sceneDidPause:s.PropTypes.func,sceneWillEnd:s.PropTypes.func,sceneDidEnd:s.PropTypes.func},childContextTypes:{scene:s.PropTypes.object},contextTypes:{scene:s.PropTypes.object},getChildContext:function(){return{scene:{parent:this.context.scene||null,load:this.load,build:this.build,resize:this.resize,mute:this.mute,unmute:this.unmute,play:this.play,pause:this.pause,end:this.end,destroy:this.destroy}}},getDefaultProps:function(){return{width:0,height:0,loadOnMount:!0,buildOnLoad:!1,playOnBuild:!1,destroyOnUnmount:!0}},getInitialState:function(){return{calling:null}},render:function(){return this.props.children||null},componentDidMount:function(){if(this.props.onRemote){var e=this.createRemote();this.props.onRemote(e)}this.props.loadOnMount&&this.load()},componentWillUnmount:function(){this.props.destroyOnUnmount&&this.destroy()},componentDidUpdate:function(e,t){var n=e.onRemote!==this.props.onRemote;if(n&&this.props.onRemote){var s=this.createRemote();this.props.onRemote(s)}var o=e.width!==this.props.width||e.height!==this.props.height;o&&this.resize()},load:function(){this.callSceneMethod("load",arguments)},build:function(){this.callSceneMethod("build",arguments)},resize:function(){this.callSceneMethod("resize",arguments)},mute:function(){this.callSceneMethod("mute",arguments)},unmute:function(){this.callSceneMethod("unmute",arguments)},play:function(){this.callSceneMethod("play",arguments)},pause:function(){this.callSceneMethod("pause",arguments)},end:function(){this.callSceneMethod("end",arguments)},destroy:function(){this.callSceneMethod("destroy",arguments)},callSceneMethod:function(e,t){if(this.state.calling!==e){this.setState({calling:e});var n=e.substr(0,1).toUpperCase()+e.substr(1),s=e,o="sceneWill"+n,r="sceneDid"+n,i=_.bind(function(){this.setState({calling:null}),this.props[r]&&this.props[r](),this[r]&&this[r]()},this),c=!1,p={async:function(){return c=!0,i}};if(this.props[o]&&this.props[o](),this.props[s]){var u=[p].concat(_.map(t,function(e){return e})),a=this.props[s].apply(null,u);if(a&&a.then){var l=p.async();a.then(l)}}c||i()}},createRemote:function(){return{load:this.load,build:this.build,resize:this.resize,mute:this.mute,unmute:this.unmute,play:this.play,pause:this.pause,end:this.end,destroy:this.destroy}},sceneDidLoad:function(){this.props.buildOnLoad&&this.build()},sceneDidBuild:function(){this.props.playOnBuild&&this.play()}});e.exports=o},function(t,n){t.exports=e},function(e,t,n){"use strict";function s(e){return e.displayName||e.name||"Component"}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r=n(1),i=n(4);e.exports=function(e,t){var n=React.createClass({displayName:"SceneWithContext",contextTypes:{scene:React.PropTypes.object},render:function(){var e=React.cloneElement(this.props.children,{scene:this.context.scene});return e}}),c=React.createClass({displayName:"SceneWrapper",render:function(){for(var s,i=["load","build","resize","mute","unmute","play","pause","end","destroy"],c={},p=0,u=i.length;p<u;p++)s=i[p],this.refs.component&&this.refs.component[s]&&(c[s]=this.refs.component[s]);return React.createElement(r,o({ref:"scene"},this.props,t,c),React.createElement(n,null,React.createElement(e,o({ref:"component"},this.props))))},load:function(){this.refs.scene.load()},build:function(){this.refs.scene.build()},resize:function(){this.refs.scene.resize()},mute:function(){this.refs.scene.mute()},unmute:function(){this.refs.scene.unmute()},play:function(){this.refs.scene.play()},pause:function(){this.refs.scene.pause()},end:function(){this.refs.scene.end()},destroy:function(){this.refs.scene.destroy()}});return c.displayName="scene("+s(e)+")",c.WrappedComponent=e,i(c,e)}},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,r){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;++c)if(!(n[i[c]]||s[i[c]]||r&&r[i[c]]))try{e[i[c]]=t[i[c]]}catch(p){}}return e}},function(e,t,n){"use strict";function s(e){return e.displayName||e.name||"Component"}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r=(n(1),n(4));e.exports=function(e){var t=React.createClass({displayName:"WithScene",contextTypes:{scene:React.PropTypes.object},render:function(){return React.createElement(e,o({},this.props,{scene:this.context.scene}))}});return t.displayName="withScene("+s(e)+")",t.WrappedComponent=e,r(t,e)}}])});
//# sourceMappingURL=react-scene.min.js.map