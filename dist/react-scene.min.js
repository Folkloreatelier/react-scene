!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactScene=t(require("react")):e.ReactScene=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1);o.createScene=n(3),o.withScene=n(5),e.exports=o},function(e,t,n){"use strict";var o=n(2),s=o.createClass({displayName:"ReactScene",propTypes:{width:o.PropTypes.number,height:o.PropTypes.number,loadOnMount:o.PropTypes.bool,buildOnLoad:o.PropTypes.bool,playOnBuild:o.PropTypes.bool,destroyOnUnmount:o.PropTypes.bool,load:o.PropTypes.func,build:o.PropTypes.func,resize:o.PropTypes.func,mute:o.PropTypes.func,unmute:o.PropTypes.func,play:o.PropTypes.func,pause:o.PropTypes.func,end:o.PropTypes.func,destroy:o.PropTypes.func,onRemote:o.PropTypes.func,sceneWillLoad:o.PropTypes.func,sceneDidLoad:o.PropTypes.func,sceneWillBuild:o.PropTypes.func,sceneDidBuild:o.PropTypes.func,sceneWillResize:o.PropTypes.func,sceneDidResize:o.PropTypes.func,sceneWillMute:o.PropTypes.func,sceneDidMute:o.PropTypes.func,sceneWillUnmute:o.PropTypes.func,sceneDidUnmute:o.PropTypes.func,sceneWillPlay:o.PropTypes.func,sceneDidPlay:o.PropTypes.func,sceneWillPause:o.PropTypes.func,sceneDidPause:o.PropTypes.func,sceneWillEnd:o.PropTypes.func,sceneDidEnd:o.PropTypes.func},childContextTypes:{scene:o.PropTypes.object},contextTypes:{scene:o.PropTypes.object},getChildContext:function(){return{scene:{parent:this.context.scene||null,load:this.load,build:this.build,resize:this.resize,mute:this.mute,unmute:this.unmute,play:this.play,pause:this.pause,end:this.end,destroy:this.destroy}}},getDefaultProps:function(){return{width:0,height:0,loadOnMount:!0,buildOnLoad:!1,playOnBuild:!1,destroyOnUnmount:!0}},getInitialState:function(){return{calling:null}},render:function(){return this.props.children||null},componentDidMount:function(){if(this.props.onRemote){var e=this.createRemote();this.props.onRemote(e)}if(this.props.loadOnMount){var t=this.load;setTimeout(function(){t()},1)}},componentWillUnmount:function(){this.props.destroyOnUnmount&&this.destroy()},componentDidUpdate:function(e,t){var n=e.onRemote!==this.props.onRemote;if(n&&this.props.onRemote){var o=this.createRemote();this.props.onRemote(o)}var s=e.width!==this.props.width||e.height!==this.props.height;s&&this.resize()},load:function(){this.callSceneMethod("load",arguments)},build:function(){this.callSceneMethod("build",arguments)},resize:function(){this.callSceneMethod("resize",arguments)},mute:function(){this.callSceneMethod("mute",arguments)},unmute:function(){this.callSceneMethod("unmute",arguments)},play:function(){this.callSceneMethod("play",arguments)},pause:function(){this.callSceneMethod("pause",arguments)},end:function(){this.callSceneMethod("end",arguments)},destroy:function(){this.callSceneMethod("destroy",arguments)},callSceneMethod:function(e,t){if(this.state.calling!==e){this.setState({calling:e});var n=e.substr(0,1).toUpperCase()+e.substr(1),o=e,s="sceneWill"+n,r="sceneDid"+n,i=_.bind(function(){this.setState({calling:null}),this.props[r]&&this.props[r](),this[r]&&this[r]()},this),c=!1,p={async:function(){return c=!0,i}};if(this.props[s]&&this.props[s](),this.props[o]){var u=[p].concat(_.map(t,function(e){return e})),a=this.props[o].apply(null,u);if(a&&a.then){var l=p.async();a.then(l)}}c||i()}},createRemote:function(){return{load:this.load,build:this.build,resize:this.resize,mute:this.mute,unmute:this.unmute,play:this.play,pause:this.pause,end:this.end,destroy:this.destroy}},sceneDidLoad:function(){this.props.buildOnLoad&&this.build()},sceneDidBuild:function(){this.props.playOnBuild&&this.play()}});e.exports=s},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e.displayName||e.name||"Component"}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),i=n(4);e.exports=function(e,t,n){"undefined"==typeof n&&(n={}),n.methods||(n.methods=["load","build","resize","mute","unmute","play","pause","end","destroy"]);var c=React.createClass({displayName:"SceneWithContext",contextTypes:{scene:React.PropTypes.object},render:function(){var e=React.cloneElement(this.props.children,{scene:this.context.scene});return e}}),p=React.createClass({displayName:"SceneWrapper",render:function(){for(var o,i={},p=0,u=n.methods.length;p<u;p++)o=n.methods[p],i[o]=this.createRefMethod(o,"component"),this[o]=this.createRefMethod(o,"scene");return React.createElement(r,s({ref:"scene"},this.props,t,i),React.createElement(c,null,React.createElement(e,s({ref:"component"},this.props))))},createRefMethod:function(t,n){return function(){this.refs[n]&&this.refs[n][t]?this.refs[n][t].apply(null,arguments):console.warn('Method "'+t+'" not implemented on component '+o(e))}.bind(this)}});return p.displayName="scene("+o(e)+")",p.WrappedComponent=e,i(p,e)}},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},s="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,r){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);s&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;++c)if(!(n[i[c]]||o[i[c]]||r&&r[i[c]]))try{e[i[c]]=t[i[c]]}catch(p){}}return e}},function(e,t,n){"use strict";function o(e){return e.displayName||e.name||"Component"}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(n(1),n(4));e.exports=function(e){var t=React.createClass({displayName:"WithScene",contextTypes:{scene:React.PropTypes.object},render:function(){return React.createElement(e,s({},this.props,{scene:this.context.scene}))}});return t.displayName="withScene("+o(e)+")",t.WrappedComponent=e,r(t,e)}}])});
//# sourceMappingURL=react-scene.min.js.map