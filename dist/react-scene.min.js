!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactScene=t(require("react")):e.ReactScene=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1);o.createReactScene=n(2),o.createScene=n(4),o.withScene=n(6),e.exports=o},function(e,t,n){"use strict";var o=n(2);e.exports=o()},function(e,t,n){"use strict";function o(e){function t(e){return function(){for(var t=[],n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);this.callSceneMethod(e,t)}}"undefined"==typeof e&&(e=s);for(var n,o,i={propTypes:{width:r.PropTypes.number,height:r.PropTypes.number,onRemote:r.PropTypes.func},childContextTypes:{scene:r.PropTypes.object},contextTypes:{scene:r.PropTypes.object},getChildContext:function(){for(var t,n={parent:this.context.scene||null},o=0,r=e.length;o<r;o++)t=e[o],n[t]=this[t];return{scene:n}},getDefaultProps:function(){return{width:0,height:0,loadOnMount:!0,buildOnLoad:!1,playOnBuild:!1,destroyOnUnmount:!0}},getInitialState:function(){return{calling:null}},render:function(){return this.props.children||null},componentDidMount:function(){if(this.props.onRemote){var e=this.createRemote();this.props.onRemote(e)}if(this.load&&this.props.loadOnMount){var t=this.load;setTimeout(function(){t()},1)}},componentWillUnmount:function(){this.destroy&&this.props.destroyOnUnmount&&this.destroy()},componentDidUpdate:function(e,t){var n=e.onRemote!==this.props.onRemote;if(n&&this.props.onRemote){var o=this.createRemote();this.props.onRemote(o)}if(this.resize){var r=e.width!==this.props.width||e.height!==this.props.height;r&&this.resize()}},callSceneMethod:function(e,t){if(this.state.calling!==e){this.setState({calling:e});var n=e.substr(0,1).toUpperCase()+e.substr(1),o=e,r="sceneWill"+n,s="sceneDid"+n,i=function(){this.setState({calling:null}),this.props[s]&&this.props[s](),this[s]&&this[s]()}.bind(this),p=!1,c={async:function(){return p=!0,i}};if(this.props[r]&&this.props[r](),this.props[o]){var a=[c].concat(t),u=this.props[o].apply(null,a);if(u&&u.then){var l=c.async();u.then(l)}}p||i()}},createRemote:function(){for(var t,n={},o=0,r=e.length;o<r;o++)t=e[o],n[t]=this[t];return n},sceneDidLoad:function(){this.build&&this.props.buildOnLoad&&this.build()},sceneDidBuild:function(){this.play&&this.props.playOnBuild&&this.play()}},p=0,c=e.length;p<c;p++)n=e[p],o=n.replace(/(\w)(\w*)/g,function(e,t,n){return t.toUpperCase()+n.toLowerCase()}),i.propTypes[n]=r.PropTypes.func,i.propTypes["sceneWill"+o]=r.PropTypes.func,i.propTypes["sceneDid"+o]=r.PropTypes.func,"destroy"===n?i.propTypes.destroyOnUnmount=r.PropTypes.bool:"build"===n?i.propTypes.buildOnLoad=r.PropTypes.bool:"load"===n&&(i.propTypes.loadOnMount=r.PropTypes.bool),i[n]=t(n);var a=r.createClass(i);return a.displayName="ReactScene",a}var r=n(3),s=["load","build","resize","mute","unmute","play","pause","end","destroy"];o.DEFAULT_METHODS=s,e.exports=o},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e.displayName||e.name||"Component"}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(3),i=n(2),p=n(5);e.exports=function(e,t,n){"undefined"==typeof n&&(n=i.DEFAULT_METHODS);var c=i(n),a=function(e,t){var n=s.cloneElement(e.children,{scene:t.scene});return n};a.contextTypes={scene:s.PropTypes.object};for(var u,l={render:function(){for(var o,i={},p=0,u=n.length;p<u;p++)o=n[p],i[o]=this.createRefMethod("component",o);return s.createElement(c,r({ref:"scene"},t,this.props,i),s.createElement(a,null,s.createElement(e,r({ref:"component"},this.props))))},createRefMethod:function(t,n){var r=function(){this.refs[t]&&this.refs[t][n]?this.refs[t][n].apply(null,arguments):console.warn('Method "'+n+'" not implemented on component '+o(e))};return this&&(r=r.bind(this)),r}},h=0,f=n.length;h<f;h++)u=n[h],l[u]=l.createRefMethod.call(null,"scene",u);var d=s.createClass(l);return d.displayName="scene("+o(e)+")",d.SceneComponent=e,p(d,e)}},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,s){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);r&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var p=0;p<i.length;++p)if(!(n[i[p]]||o[i[p]]||s&&s[i[p]]))try{e[i[p]]=t[i[p]]}catch(c){}}return e}},function(e,t,n){"use strict";function o(e){return e.displayName||e.name||"Component"}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=(n(1),n(5));e.exports=function(e){var t=React.createClass({displayName:"WithScene",contextTypes:{scene:React.PropTypes.object},render:function(){return React.createElement(e,r({},this.props,{scene:this.context.scene}))}});return t.displayName="withScene("+o(e)+")",t.WrappedComponent=e,s(t,e)}}])});
//# sourceMappingURL=react-scene.min.js.map